import { E_VALIDATION_ERROR } from '../errors/main.js';
export class SimpleErrorReporter {
    hasErrors = false;
    errors = [];
    report(message, rule, field, meta) {
        const error = {
            message,
            rule,
            field: field.wildCardPath,
        };
        if (meta) {
            error.meta = meta;
        }
        if (field.isArrayMember) {
            error.index = field.name;
        }
        this.hasErrors = true;
        this.errors.push(error);
    }
    createError() {
        return new E_VALIDATION_ERROR(this.errors);
    }
}
