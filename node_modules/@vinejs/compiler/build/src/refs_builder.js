export function refsBuilder() {
    let counter = 0;
    const refs = {};
    return {
        toJSON() {
            return refs;
        },
        track(value) {
            counter++;
            const ref = `ref://${counter}`;
            refs[ref] = value;
            return ref;
        },
        trackValidation(validation) {
            return this.track(validation);
        },
        trackParser(fn) {
            return this.track(fn);
        },
        trackTransformer(fn) {
            return this.track(fn);
        },
        trackConditional(fn) {
            return this.track(fn);
        },
    };
}
